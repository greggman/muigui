function n(n,t={},e=[]){const i=document.createElement(n);return function(n,t,e){for(const[e,i]of Object.entries(t))if("function"==typeof i&&e.startsWith("on")){const t=e.substring(2).toLowerCase();n.addEventListener(t,i,{passive:!1})}else if("object"==typeof i)for(const[t,o]of Object.entries(i))n[e][t]=o;else void 0===n[e]?n.setAttribute(e,i):n[e]=i;for(const t of e)n.appendChild(t)}(i,t,e),i}function t(n,t){const e=n.indexOf(t);return e&&n.splice(e,1),n}function e(n,t,e){return Math.max(t,Math.min(e,n))}const i="undefined"!=typeof SharedArrayBuffer?function(n){return n&&n.buffer&&(n.buffer instanceof ArrayBuffer||n.buffer instanceof SharedArrayBuffer)}:function(n){return n&&n.buffer&&n.buffer instanceof ArrayBuffer},o=(n,t,e)=>Math.round(t(n)/e)/(1/e);function r(n,t){for(const e in t)e in n&&(n[e]=t[e]);return n}class s{#n;#t=[];constructor(n){this.domElement=n,this.#n=n}addElem(n){return this.#n.appendChild(n),n}removeElem(n){return this.#n.removeChild(n),n}pushSubElem(n){this.#n.appendChild(n),this.#n=n}popSubElem(){this.#n=this.#n.parentElement}add(n){return this.#t.push(n),this.addElem(n.domElement),n}remove(n){return this.removeElem(n.domElement),t(this.#t,n),n}pushSubView(n){this.pushSubElem(n.domElement)}popSubView(){this.popSubElem()}setOptions(n){for(const t of this.#t)t.setOptions(n)}updateDisplayIfNeeded(n,t){for(const e of this.#t)e.updateDisplayIfNeeded(n,t);return this}$(n){return this.domElement.querySelector(n)}}class a extends s{#e;#i;#o;constructor(t){super(n("div",{className:"muigui-controller"})),this.#e=[],this.#i=[],t&&this.domElement.classList.add(t)}get parent(){return this.#o}setParent(n){this.#o=n,this.enable(!this.disabled())}show(n=!0){return this.domElement.classList.toggle("muigui-hide",!n),this.domElement.classList.toggle("muigui-show",n),this}hide(){return this.show(!1)}disabled(){return!!this.domElement.closest(".muigui-disabled")}enable(n=!0){return this.domElement.classList.toggle("muigui-disabled",!n),["input","button","select","textarea"].forEach((n=>{this.domElement.querySelectorAll(n).forEach((n=>{const t=!!n.closest(".muigui-disabled");n.disabled=t}))})),this}disable(n=!0){return this.enable(!n)}onChange(n){return this.removeChange(n),this.#e.push(n),this}removeChange(n){return t(this.#e,n),this}onFinishChange(n){return this.removeFinishChange(n),this.#i.push(n),this}removeFinishChange(n){return t(this.#i,n),this}#r(n,t){for(const e of n)e.call(this,t)}emitChange(n,t,e){this.#r(this.#e,n),this.#o&&(void 0===t?this.#o.emitChange(n):this.#o.emitChange({object:t,property:e,value:n,controller:this}))}emitFinalChange(n,t,e){this.#r(this.#i,n),this.#o&&(void 0===t?this.#o.emitChange(n):this.#o.emitFinalChange({object:t,property:e,value:n,controller:this}))}getColors(){const t=n=>n.replace(/-([a-z])/g,((n,t)=>t.toUpperCase())),e=n("div");this.domElement.appendChild(e);const i=Object.fromEntries(["color","bg-color","value-color","value-bg-color","hover-bg-color","menu-bg-color","menu-sep-color","disabled-color"].map((n=>{e.style.color=`var(--${n})`;const i=getComputedStyle(e);return[t(n),i.color]})));return e.remove(),i}}class l extends a{#s;#a;#l;#u={name:""};constructor(t,e,i={}){super("muigui-button",""),this.#s=t,this.#a=e,this.#l=this.addElem(n("button",{type:"button",onClick:()=>{this.#s[this.#a](this)}})),this.setOptions({name:e,...i})}setOptions(n){r(this.#u,n);const{name:t}=this.#u;this.#l.textContent=t}}function u(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0}class c extends s{#c;#h;#d(n){const t=!u(n,this.#c);return t&&function(n,t){t.length=n.length;for(let e=0;e<n.length;++e)t[e]=n[e]}(n,this.#c),t}#p(){let n=!0;return function(t){let e=n;return n=!1,e||(e=!u(t,this.#c)),e}}#m(n){let t=!1;for(const e in n)n[e]!==this.#c[e]&&(t=!0,this.#c[e]=n[e]);return t}#g(n){const t=n!==this.#c;return this.#c=n,t}#b(n){return Array.isArray(n)?(this.#c=[],this.#d.bind(this)):i(n)?(this.#c=new n.constructor(n),this.#p(this)):"object"==typeof n?(this.#c={},this.#m.bind(this)):this.#g.bind(this)}updateDisplayIfNeeded(n,t){this.#h=this.#h||this.#b(n),(this.#h(n)||t)&&this.updateDisplay(n)}setOptions(){return this}}class h extends c{constructor(t,e){const i=n("input",{type:"checkbox",id:e,onInput:()=>{t.setValue(this.domElement.checked)},onChange:()=>{t.setFinalValue(this.domElement.checked)}});super(n("label",{},[i]))}updateDisplay(n){this.domElement.checked=n}}const d=[],p=new Set;let m,g;function b(){m=void 0,g=!0;for(const n of d)p.has(n)||n();g=!1,p.size&&(g?f():(p.forEach((n=>{t(d,n)})),p.clear())),f()}function f(){!m&&d.length&&(m=requestAnimationFrame(b))}let v=0;class x extends s{constructor(t=""){super(n("div",{className:"muigui-value"})),t&&this.domElement.classList.add(t)}}class y extends a{#f;#v;constructor(t="",e=""){super("muigui-label-controller"),this.#f="muigui-"+ ++v,this.#v=n("label",{for:this.#f}),this.domElement.appendChild(this.#v),this.pushSubView(new x(t)),this.name(e)}get id(){return this.#f}name(n){return this.#v.title===this.#v.textContent&&(this.#v.title=n),this.#v.textContent=n,this}tooltip(n){this.#v.title=n}}class w extends y{#s;#a;#x;#y;#t;#w;constructor(n,t,e=""){super(e,t),this.#s=n,this.#a=t,this.#x=this.getValue(),this.#y=!1,this.#t=[]}get initialValue(){return this.#x}get object(){return this.#s}get property(){return this.#a}add(n){return this.#t.push(n),super.add(n),this.updateDisplay(),n}#k(n,t){if("object"==typeof n){const t=this.#s[this.#a];if(Array.isArray(n))for(let e=0;e<n.length;++e)t[e]=n[e];else i(n)?t.set(n):Object.assign(t,n)}else this.#s[this.#a]=n;return this.updateDisplay(t),this.emitChange(this.getValue(),this.#s,this.#a),this}setValue(n){this.#k(n)}setFinalValue(n){return this.#k(n,!0),this.emitFinalChange(this.getValue(),this.#s,this.#a),this}updateDisplay(n){const t=this.getValue();for(const e of this.#t)e.updateDisplayIfNeeded(t,n);return this}setOptions(n){for(const t of this.#t)t.setOptions(n);return this.updateDisplay(),this}getValue(){return this.#s[this.#a]}value(n){return this.setValue(n),this}reset(){return this.setValue(this.#x),this}listen(n=!0){var t;return this.#w||(this.#w=this.updateDisplay.bind(this)),n?this.#y||(this.#y=!0,t=this.#w,d.push(t),f()):this.#y&&(this.#y=!1,function(n){p.set(n);const t=d.indexOf(n);t>=0&&d.splice(t,1)}(this.#w)),this}}class k extends w{constructor(n,t){super(n,t,"muigui-checkbox");const e=this.id;this.add(new h(this,e)),this.updateDisplay()}}const E={to:n=>n,from:n=>[!0,n]},C={to:n=>n.toString(),from:n=>{const t=parseFloat(n);return[!Number.isNaN(t),t]}};function V(){let n=0;return function(t,e,i=5){n-=t.deltaY*e/i;const o=Math.floor(Math.abs(n)/e)*Math.sign(n)*e;return n-=o,o}}class F extends c{#E;#C;#V;#F;#u={step:.01,converters:C,min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY};constructor(t,i){const r=t.setValue.bind(t),s=t.setFinalValue.bind(t),a=V();super(n("input",{type:"number",onInput:()=>this.#I(r,!0),onChange:()=>this.#I(s,!1),onWheel:n=>{n.preventDefault();const{min:i,max:r,step:s}=this.#u,l=a(n,s),u=parseFloat(this.domElement.value),c=e(o(u+l,(n=>n),s),i,r);t.setValue(c)}})),this.setOptions(i)}#I(n,t){const i=parseFloat(this.domElement.value),[o,r]=this.#C(i);let s;if(o&&!Number.isNaN(i)){const{min:i,max:o}=this.#u;s=r>=i&&r<=o,this.#F=t,n(e(r,i,o))}this.domElement.classList.toggle("muigui-invalid-value",!o||!s)}updateDisplay(n){this.#F||(this.domElement.value=o(n,this.#E,this.#V)),this.#F=!1}setOptions(n){r(this.#u,n);const{step:t,converters:{to:e,from:i}}=this.#u;return this.#E=e,this.#C=i,this.#V=t,this}}class I extends w{#N;#V;constructor(n,t,e={}){super(n,t,"muigui-checkbox"),this.#N=this.add(new F(this,e)),this.updateDisplay()}}class N extends c{#$;constructor(t,e){const i=[];super(n("select",{onChange:()=>{t.setFinalValue(this.#$[this.domElement.selectedIndex])}},e.map((([t,e])=>(i.push(e),n("option",{textContent:t})))))),this.#$=i}updateDisplay(n){const t=this.#$.indexOf(n);this.domElement.selectedIndex=t}}class $ extends w{constructor(n,t,e){super(n,t,"muigui-select");const i="number"==typeof this.getValue(),{keyValues:o}=e,r=function(n,t){return Array.isArray(n)?Array.isArray(n[0])?n:t?n.map(((n,t)=>[n,t])):n.map((n=>[n,n])):[...Object.entries(n)]}(o,i);this.add(new N(this,r)),this.updateDisplay()}}class D extends c{#E;#C;#V;#F;#u={step:.01,min:0,max:1,converters:E};constructor(t,i){const r=V();super(n("input",{type:"range",onInput:()=>{this.#F=!0;const[n,e]=this.#C(parseFloat(this.domElement.value));n&&t.setValue(e)},onChange:()=>{this.#F=!0;const[n,e]=this.#C(parseFloat(this.domElement.value));n&&t.setFinalValue(e)},onWheel:n=>{n.preventDefault();const[i,s]=this.#C(parseFloat(this.domElement.value));if(!i)return;const{min:a,max:l,step:u}=this.#u,c=r(n,u),h=e(o(s+c,(n=>n),u),a,l);t.setValue(h)}})),this.setOptions(i)}updateDisplay(n){this.#F||(this.domElement.value=o(n,this.#E,this.#V)),this.#F=!1}setOptions(n){r(this.#u,n);const{step:t,min:e,max:i,converters:{to:o,from:s}}=this.#u;return this.#E=o,this.#C=s,this.#V=t,this.domElement.step=t,this.domElement.min=e,this.domElement.max=i,this}}class O extends w{constructor(n,t,e){super(n,t,"muigui-range"),this.add(new D(this,e)),this.add(new F(this,e))}}class S extends c{#E;#C;#F;#u={converters:E};constructor(t,e){const i=t.setValue.bind(t),o=t.setFinalValue.bind(t);super(n("input",{type:"text",onInput:()=>this.#I(i,!0),onChange:()=>this.#I(o,!1)})),this.setOptions(e)}#I(n,t){const[e,i]=this.#C(this.domElement.value);e&&(this.#F=t,n(i)),this.domElement.style.color=e?"":"var(--invalid-color)"}updateDisplay(n){this.#F||(this.domElement.value=this.#E(n),this.domElement.style.color=""),this.#F=!1}setOptions(n){r(this.#u,n);const{converters:{to:t,from:e}}=this.#u;return this.#E=t,this.#C=e,this}}class j extends w{constructor(n,t){super(n,t,"muigui-checkbox"),this.add(new S(this)),this.updateDisplay()}}class A extends s{constructor(t,e){super(n(t,{className:e}))}}class U extends y{#D;constructor(){super("muigui-canvas"),this.#D=this.add(new A("canvas","muigui-canvas")).domElement}get canvas(){return this.#D}}const M=(n,t,e)=>Math.max(t,Math.min(e,n)),L=n=>+n.toFixed(3),z=n=>parseInt(n.substring(1,3),16)<<16|parseInt(n.substring(3,5),16)<<8|parseInt(n.substring(5,7),16),T=n=>[parseInt(n.substring(1,3),16),parseInt(n.substring(3,5),16),parseInt(n.substring(5,7),16)],P=n=>`#${Array.from(n).map((n=>n.toString(16).padStart(2,"0"))).join("")}`,B=n=>T(n).map((n=>L(n/255))),Y=n=>({r:parseInt(n.substring(1,3),16)/255,g:parseInt(n.substring(3,5),16)/255,b:parseInt(n.substring(5,7),16)/255}),_=n=>M(Math.round(255*n),0,255).toString(16).padStart(2,"0"),q=n=>`rgb(${T(n).join(", ")})`,W=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,G=n=>{const t=J(T(n)).map((n=>(n=>+n.toFixed(0))(n)));return`hsl(${t[0]}, ${t[1]}%, ${t[2]}%)`},H=/^\s*hsl\(\s*(\d+)(?:deg|)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/,R=(n,t)=>(n%t+t)%t;const J=n=>{const[t,e,i]=function([n,t,e]){const i=Math.max(n,t,e),o=Math.min(n,t,e),r=.5*(o+i),s=i-o;let a=0,l=0;if(0!==s)switch(l=0===r||1===r?0:(i-r)/Math.min(r,1-r),i){case n:a=(t-e)/s+(t<e?6:0);break;case t:a=(e-n)/s+2;break;case e:a=(n-t)/s+4}return[a/6,l,r]}(n.map((n=>n/255)));return[360*t,100*e,100*i]};const K=n=>Math.round(1e3*n)/1e3;window.hsv01ToRGBFloat=function([n,t,e]){return t=M(t,0,1),e=M(e,0,1),[n,n+2/3,n+1/3].map((n=>{return i=1,o=M(Math.abs(6*(n=>n>=0?n%1:1-n%1)(n)-3)-1,0,1),(i+(o-i)*t)*e;var i,o}))},window.rgbFloatToHSV01=function([n,t,e]){const i=e>t?[e,t,-1,2/3]:[t,e,0,-1/3],o=i[0]>n?[i[0],i[1],i[3],n]:[n,i[1],i[2],i[0]],r=o[0]-Math.min(o[3],o[1]);return[Math.abs(o[2]+(o[3]-o[1])/(6*r+Number.EPSILON)),r/(o[0]+Number.EPSILON),o[0]].map(K)};const Q=[{re:/^#(?:[0-9a-f]){6}$/i,format:"hex6"},{re:/^(?:[0-9a-f]){6}$/i,format:"hex6-no-hash"},{re:/^#(?:[0-9a-f]){3}$/i,format:"hex3"},{re:/^(?:[0-9a-f]){3}$/i,format:"hex3-no-hash"},{re:W,format:"css-rgb"},{re:H,format:"css-hsl"}];function X(n){switch(typeof n){case"number":return"uint32-rgb";case"string":{const t=function(n){for(const t of Q)if(t.re.test(n))return t}(n.trim());if(t)return t.format;break}case"object":if(n instanceof Uint8Array||n instanceof Uint8ClampedArray){if(3===n.length)return"uint8-rgb"}else if(n instanceof Float32Array){if(3===n.length)return"float-rgb"}else if(Array.isArray(n)){if(3===n.length)return"float-rgb"}else if("r"in n&&"g"in n&&"b"in n)return"object-rgb"}throw new Error(`unknown color format: ${n}`)}function Z(n){return n.trim(n)}function nn(n){return n[1]===n[2]&&n[3]===n[4]&&n[5]===n[6]?`#${n[1]}${n[3]}${n[5]}`:n}const tn=/^(#|)([0-9a-f]{3})$/i;function en(n){const t=tn.exec(n);if(t){const[,,n]=t;return"#"+`${(e=n)[0]}${e[0]}${e[1]}${e[1]}${e[2]}${e[2]}`}var e;return n}function on(n){return nn(Z(n))}const rn=n=>{const t=W.exec(n);if(!t)return[!1];const e=[t[1],t[2],t[3]].map((n=>parseInt(n)));return[!e.find((n=>n>255)),`rgb(${e.join(", ")})`]},sn=n=>{const t=H.exec(n);if(!t)return[!1];const e=[t[1],t[2],t[3]].map((n=>parseFloat(n)));return[!e.find((n=>Number.isNaN(n))),`hsl(${e[0]}, ${e[1]}%, ${e[2]}%)`]},an=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*$/,ln=/^\s*(?:0x){0,1}([0-9a-z]{1,6})\s*$/i,un=/^\s*#[a-f0-9]{6}\s*$|^\s*#[a-f0-9]{3}\s*$/i,cn=/^\s*[a-f0-9]{6}\s*$/i,hn={hex6:{color:{from:n=>[!0,n],to:Z},text:{from:n=>[un.test(n),n.trim()],to:n=>n}},hex3:{color:{from:n=>[!0,on(n)],to:en},text:{from:n=>[un.test(n),nn(n.trim())],to:n=>n}},"hex6-no-hash":{color:{from:n=>[!0,n.substring(1)],to:n=>`#${Z(n)}`},text:{from:n=>[cn.test(n),n.trim()],to:n=>n}},"hex3-no-hash":{color:{from:n=>[!0,on(n).substring(1)],to:en},text:{from:n=>[cn.test(n),nn(n.trim())],to:n=>n}},"uint32-rgb":{color:{from:n=>[!0,z(n)],to:n=>`#${Math.round(n).toString(16).padStart(6,"0")}`},text:{from:n=>(n=>{const t=ln.exec(n);return t?[!0,parseInt(t[1],16)]:[!1]})(n),to:n=>`0x${n.toString(16).padStart(6,"0")}`}},"uint8-rgb":{color:{from:n=>[!0,T(n)],to:P},text:{from:n=>{const t=an.exec(n);if(!t)return[!1];const e=[t[1],t[2],t[3]].map((n=>parseInt(n)));return[!e.find((n=>n>255)),e]},to:n=>n.join(", ")}},"float-rgb":{color:{from:n=>[!0,B(n)],to:n=>P(Array.from(n).map((n=>Math.round(M(255*n,0,255)))))},text:{from:n=>{const t=n.split(",").map((n=>n.trim())),e=t.map((n=>parseFloat(n)));if(3!==e.length)return[!1];const i=t.findIndex((n=>isNaN(n)));return[i<0,e.map((n=>L(n)))]},to:n=>Array.from(n).map((n=>L(n))).join(", ")}},"object-rgb":{color:{from:n=>[!0,Y(n)],to:n=>`#${_(n.r)}${_(n.g)}${_(n.b)}`},text:{from:n=>{try{const t=n.replace(/([a-z])/g,'"$1"'),e=JSON.parse(t);if(Number.isNaN(e.r)||Number.isNaN(e.g)||Number.isNaN(e.b))throw new Error("not {r, g, b}");return[!0,e]}catch(n){return[!1]}},to:n=>`{r:${L(n.r)}, g:${L(n.g)}, b:${L(n.b)}}`}},"css-rgb":{color:{from:n=>[!0,q(n)],to:n=>{const t=W.exec(n);return P([t[1],t[2],t[3]].map((n=>parseInt(n))))}},text:{from:rn,to:n=>rn(n)[1]}},"css-hsl":{color:{from:n=>[!0,G(n)],to:n=>{const t=H.exec(n),e=function([n,t,e]){n=R(n,360),t=M(t/100,0,1),e=M(e/100,0,1);const i=t*Math.min(e,1-e);function o(t){const o=(t+n/30)%12;return e-i*Math.max(-1,Math.min(o-3,9-o,1))}return[o(0),o(8),o(4)].map((n=>Math.round(255*n)))}([t[1],t[2],t[3]].map((n=>parseFloat(n))));return P(e)}},text:{from:sn,to:n=>sn(n)[1]}}};class dn extends c{#E;#C;#O;#F;#u={converters:E};constructor(t,e){const i=n("input",{type:"color",onInput:()=>{const[n,e]=this.#C(i.value);n&&(this.#F=!0,t.setValue(e))},onChange:()=>{const[n,e]=this.#C(i.value);n&&(this.#F=!0,t.setFinalValue(e))}});super(n("div",{},[i])),this.setOptions(e),this.#O=i}updateDisplay(n){this.#F||(this.#O.value=this.#E(n)),this.#F=!1}setOptions(n){r(this.#u,n);const{converters:{to:t,from:e}}=this.#u;return this.#E=t,this.#C=e,this}}class pn extends w{#S;#N;constructor(n,t,e={}){super(n,t,"muigui-color");const i=e.format||X(this.getValue()),{color:o,text:r}=hn[i];this.#S=this.add(new dn(this,{converters:o})),this.#N=this.add(new S(this,{converters:r})),this.updateDisplay()}setOptions(n){const{format:t}=n;if(t){const{color:n,text:e}=hn[t];this.#S.setOptions({converters:n}),this.#N.setOptions({converters:e})}return super.setOptions(n),this}}class mn extends a{constructor(){super("muigui-divider")}}class gn extends a{#j;#A;constructor(n){super(n),this.#j=[],this.#A=this}get children(){return this.#j}get controllers(){return this.#j.filter((n=>!(n instanceof gn)))}get folders(){return this.#j.filter((n=>n instanceof gn))}reset(n=!0){for(const t of this.#j)t instanceof gn&&!n||t.reset(n);return this}remove(n){const t=this.#j.indexOf(n);if(t>=0){const n=this.#j.splice(t,1)[0];n.domElement.remove(),n.setParent(null)}return this}_addControllerImpl(n){return this.domElement.appendChild(n.domElement),this.#j.push(n),n.setParent(this),n}addController(n){return this.#A._addControllerImpl(n)}pushContainer(n){return this.addController(n),this.#A=n,n}popContainer(){return this.#A=this.#A.parent,this}}class bn extends gn{#U;constructor(t="Controls",e="muigui-menu"){super(e),this.#U=n("label"),this.addElem(n("button",{type:"button",onClick:()=>this.toggleOpen()},[this.#U])),this.pushContainer(new gn),this.name(t),this.open()}open(n=!0){return this.domElement.classList.toggle("muigui-closed",!n),this.domElement.classList.toggle("muigui-open",n),this}close(){return this.open(!1)}name(n){return this.#U.textContent=n,this}title(n){return this.name(n)}toggleOpen(){return this.open(!this.domElement.classList.contains("muigui-open")),this}}class fn extends a{constructor(n){super("muigui-label"),this.text(n)}text(n){return this.domElement.textContent=n,this}}let vn=!1;const xn=n("style");class yn extends bn{add(n,t,...e){const i=n instanceof a?n:function(n,t,...e){const[i]=e;if(Array.isArray(i))return new $(n,t,{keyValues:i});const o=typeof n[t];switch(o){case"number":if("number"==typeof e[0]&&"number"==typeof e[1]){const i=e[0],o=e[1],r=e[2];return new O(n,t,{min:i,max:o,...r&&{step:r}})}return 0===e.length?new I(n,t,...e):new O(n,t,...e);case"boolean":return new k(n,t,...e);case"function":return new l(n,t,...e);case"string":return new j(n,t,...e);default:throw new Error(`unhandled type ${o} for property ${t}`)}}(n,t,...e);return this.addController(i)}addCanvas(n){return this.addController(new U(n))}addColor(n,t,...e){return this.addController(new pn(n,t,...e))}addDivider(){return this.addController(new mn)}addFolder(n){return this.addController(new yn(n))}addLabel(n){return this.addController(new fn(n))}}class wn extends yn{constructor(n={}){super("Controls","muigui-root"),n instanceof HTMLElement&&(n={parent:n});const{autoPlace:t=!0,width:e,title:i="Controls",injectStyles:o=!0}=n;let{parent:r}=n;o&&!vn&&(vn=!0,(document.head||document.documentElement).appendChild(xn),xn.textContent='\n.muigui {\n  --width: 250px;\n  --label-width: 45%;\n  --number-width: 40%;\n\n  --bg-color: #222222;\n  --color: #dddddd;\n  --value-color: #43e5f7;\n  --value-bg-color: #444444;\n  --disabled-color: #666666;\n  --menu-bg-color: #000000;\n  --menu-sep-color: #444444;\n  --hover-bg-color: #666666;\n  --focus-color: #88AAFF;\n  --range-color: #888888;\n  --invalid-color: #FF6666;\n  --selected-color: rgba(255, 255, 255, 0.3);\n\n  --button-bg-color: var(--value-bg-color);\n\n  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;\n  --font-size: 11px;\n  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;\n  --font-size-mono: 11px;\n\n  --range-left-color: var(--value-color);\n  --range-right-color: var(--value-bg-color);\n  --range-right-hover-color: var(--hover-bg-color);\n  --line-height: 1.7em;\n  --border-radius: 0px;\n\n  width: var(--width);\n  color: var(--color);\n  background-color: var(--bg-color);\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  box-sizing: border-box;\n}\n.muigui * {\n  box-sizing: inherit;\n}\n\n.muigui-invalid-value {\n  background-color: red !important;\n  color: white !important;\n}\n\n.muigui-grid {\n  display: grid;\n}\n.muigui-rows {\n  display: flex;\n  flex-direction: column;\n\n  min-height: 20px;\n  border: 2px solid red;\n}\n.muigui-columns {\n  display: flex;\n  flex-direction: row;\n\n  height: 20px;\n  border: 2px solid green;\n}\n.muigui-rows>*,\n.muigui-columns>* {\n  flex: 1 1 auto;\n  align-items: stretch;\n  min-height: 0;\n  min-width: 0;\n}\n\n.muigui-row {\n  border: 2px solid yellow;\n  min-height: 10px\n}\n.muigui-column {\n  border: 2px solid lightgreen;\n}\n\n/* -------- */\n\n.muigui-show { /* */ }\n.muigui-hide { \n  display: none !important;\n}\n.muigui-disabled {\n  pointer-events: none;\n  --color: var(--disabled-color) !important;\n  --value-color: var(--disabled-color) !important;\n  --range-left-color: var(--disabled-color) !important;\n}\n\n.muigui canvas,\n.muigui svg {\n  display: block;\n  border-radius: var(--border-radius);\n}\n.muigui canvas {\n  background-color: var(--value-bg-color);\n}\n\n.muigui-controller {\n  min-width: 0;\n  min-height: var(--line-height);\n}\n.muigui-root,\n.muigui-menu {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  user-select: none;\n  height: fit-content;\n  margin: 0;\n  padding-bottom: 0.1em;\n  border-radius: var(--border-radius);\n}\n.muigui-menu {\n  border-bottom: 1px solid var(--menu-sep-color);\n}\n\n.muigui-root>button:nth-child(1),\n.muigui-menu>button:nth-child(1) {\n  border-top: 1px solid var(--menu-sep-color);\n  border-bottom: 1px solid var(--menu-sep-color);\n  position: relative;\n  text-align: left;\n  color: var(--color);\n  background-color: var(--menu-bg-color);\n  min-height: var(--line-height);\n  padding-top: 0.2em;\n  padding-bottom: 0.2em;\n  cursor: pointer;\n  border-radius: var(--border-radius);\n}\n.muigui-root>div:nth-child(2),\n.muigui-menu>div:nth-child(2) {\n  flex: 1 1 auto;\n}\n\n.muigui-controller {\n  margin-left: 0.2em;\n  margin-right: 0.2em;\n}\n.muigui-root.muigui-controller,\n.muigui-menu.muigui-controller {\n  margin-left: 0;\n  margin-right: 0;\n}\n.muigui-controller>*:nth-child(1) {\n  flex: 1 0 var(--label-width);\n  min-width: 0;\n  white-space: pre;\n}\n.muigui-controller>label:nth-child(1) {\n  place-content: center start;\n  display: inline-grid;\n  overflow: hidden;\n}\n.muigui-controller>*:nth-child(2) {\n  flex: 1 1 75%;\n  min-width: 0;\n}\n\n/* -----------------------------------------\n  a label controller is  [[label][value]]\n*/\n\n.muigui-label-controller {\n  display: flex;\n  margin: 0.4em 0 0.4em 0;\n  word-wrap: initial;\n  align-items: stretch;\n}\n\n.muigui-value {\n  display: flex;\n  align-items: stretch;\n}\n.muigui-value>* {\n  flex: 1 1 auto;\n  min-width: 0;\n}\n.muigui-value>*:nth-child(1) {\n  flex: 1 1 calc(100% - var(--number-width));\n}\n.muigui-value>*:nth-child(2) {\n  flex: 1 1 var(--number-width);\n  margin-left: 0.2em;\n}\n\n/* fix! */\n.muigui-open>button>label::before,\n.muigui-closed>button>label::before {\n  width: 1.25em;\n  height: var(--line-height);\n  display: inline-grid;\n  place-content: center start;\n  pointer-events: none;\n}\n.muigui-open>button>label::before {\n  content: "ⓧ"; /*"▼";*/\n}\n.muigui-closed>button>label::before {\n  content: "⨁"; /*"▶";*/\n}\n.muigui-open>*:nth-child(2) {\n  transition: max-height 0.2s ease-out,\n              opacity 0.5s ease-out;\n  max-height: 100vh;\n  overflow: auto;\n  opacity: 1;\n}\n\n.muigui-closed>*:nth-child(2) {\n  transition: max-height 0.2s ease-out,\n              opacity 1s;\n  max-height: 0;\n  opacity: 0;\n  overflow: hidden;\n}\n\n/* ---- popdown ---- */\n\n.muigui-pop-down-top {\n  display: flex;\n}\n/* fix? */\n.muigui-value>*:nth-child(1).muigui-pop-down-top {\n  flex: 0;\n}\n.muigui-pop-down-bottom {\n\n}\n\n.muigui-pop-down-values {\n  min-width: 0;\n  display: flex;\n}\n.muigui-pop-down-values>* {\n  flex: 1 1 auto;\n  min-width: 0;\n}\n\n.muigui-value.muigui-pop-down-controller {\n  flex-direction: column;\n}\n\n.muigui-pop-down-top input[type=checkbox] {\n  -webkit-appearance: none;\n  appearance: none;\n  width: auto;\n  color: var(--value-color);\n  background-color: var(--value-bg-color);\n  cursor: pointer;\n\n  display: grid;\n  place-content: center;\n  margin: 0;\n  font: inherit;\n  color: currentColor;\n  width: 1.7em;\n  height: 1.7em;\n  transform: translateY(-0.075em);\n}\n\n.muigui-pop-down-top input[type=checkbox]::before {\n  content: "+";\n  display: grid;\n  place-content: center;\n  border-radius: calc(var(--border-radius) + 2px);\n  border-left: 1px solid rgba(255,255,255,0.3);\n  border-top: 1px solid rgba(255,255,255,0.3);\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  border-right: 1px solid rgba(0,0,0,0.2);\n  background-color: var(--range-color);\n  color: var(--value-bg-color);\n  width: calc(var(--line-height) - 4px);\n  height: calc(var(--line-height) - 4px);\n}\n\n.muigui-pop-down-top input[type=checkbox]:checked::before {\n  content: "Ｘ";\n}\n\n\n/* ---- select ---- */\n\n.muigui select,\n.muigui option,\n.muigui input,\n.muigui button {\n  color: var(--value-color);\n  background-color: var(--value-bg-color);\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  border: none;\n  margin: 0;\n  border-radius: var(--border-radius);\n}\n.muigui select {\n  appearance: none;\n  margin: 0;\n  margin-left: 0; /*?*/\n  overflow: hidden; /* Safari */\n}\n\n.muigui select:focus,\n.muigui input:focus,\n.muigui button:focus {\n  outline: 1px solid var(--focus-color);\n}\n\n.muigui select:hover,\n.muigui option:hover,\n.muigui input:hover,\n.muigui button:hover {\n  background-color: var(--hover-bg-color);  \n}\n\n/* ------ [ label ] ------ */\n\n.muigui-label {\n  border-top: 1px solid var(--menu-sep-color);\n  border-bottom: 1px solid var(--menu-sep-color);\n  padding-top: 0.4em;\n  padding-bottom: 0.3em;\n  place-content: center start;\n  background-color: var(--menu-bg-color);\n  white-space: pre;\n  border-radius: var(--border-radius);\n}\n\n/* ------ [ divider] ------ */\n\n.muigui-divider {\n    min-height: 6px;\n    border-top: 2px solid var(--menu-sep-color);\n    margin-top: 6px;\n}\n\n/* ------ [ button ] ------ */\n\n.muigui-button {\n  display: grid;\n\n}\n.muigui-button button {\n  border: none;\n  color: var(--value-color);\n  background-color: var(--button-bg-color);\n  cursor: pointer;\n  place-content: center center;\n}\n\n/* ------ [ color ] ------ */\n\n.muigui-color>div {\n  overflow: hidden;\n  position: relative;\n  margin-left: 0;\n  margin-right: 0; /* why? */\n  max-width: var(--line-height);\n  border-radius: var(--border-radius);\n}\n\n.muigui-color>div:focus-within {\n  outline: 1px solid var(--focus-color);\n}\n\n.muigui-color input[type=color] {\n  border: none;\n  padding: 0;\n  background: inherit;\n  cursor: pointer;\n  position: absolute;\n  width: 200%;\n  left: -10px;\n  top: -10px;\n  height: 200%;\n}\n.muigui-disabled canvas,\n.muigui-disabled svg,\n.muigui-disabled img,\n.muigui-disabled .muigui-color input[type=color] {\n  opacity: 0.2;\n}\n\n/* ------ [ checkbox ] ------ */\n\n.muigui-checkbox>label:nth-child(2) {\n  display: grid;\n  place-content: center start;\n  margin: 0;\n}\n\n.muigui-checkbox input[type=checkbox] {\n  -webkit-appearance: none;\n  appearance: none;\n  width: auto;\n  color: var(--value-color);\n  background-color: var(--value-bg-color);\n  cursor: pointer;\n\n  display: grid;\n  place-content: center;\n  margin: 0;\n  font: inherit;\n  color: currentColor;\n  width: 1.7em;\n  height: 1.7em;\n  transform: translateY(-0.075em);\n}\n\n.muigui-checkbox input[type=checkbox]::before {\n  content: "";\n  color: var(--value-color);\n  display: grid;\n  place-content: center;\n}\n\n.muigui-checkbox input[type=checkbox]:checked::before {\n  content: "✔";\n}\n\n.muigui input[type=number]::-webkit-inner-spin-button, \n.muigui input[type=number]::-webkit-outer-spin-button { \n  -webkit-appearance: none;\n  appearance: none;\n  margin: 0; \n}\n.muigui input[type=number] {\n  -moz-appearance: textfield;\n}\n\n/* ------ [ radio grid ] ------ */\n\n.muigui-radio-grid>div {\n  display: grid;\n  gap: 2px;\n}\n\n.muigui-radio-grid input {\n  appearance: none;\n  display: none;\n}\n\n.muigui-radio-grid button {\n  color: var(--color);\n  width: 100%;\n  text-align: left;\n}\n\n.muigui-radio-grid input:checked + button {\n  color: var(--value-color);\n  background-color: var(--selected-color);\n}\n\n/* ------ [ color-chooser ] ------ */\n\n.muigui-color-chooser-cursor {\n  stroke-width: 1px;\n  stroke: white;\n  fill: none;\n}\n.muigui-color-chooser-circle {\n  stroke-width: 1px;\n  stroke: white;\n  fill: none;\n}\n\n\n/* ------ [ vec2 ] ------ */\n\n.muigui-vec2 svg {\n  background-color: var(--value-bg-color);\n}\n\n.muigui-vec2-axis {\n  stroke: 1px;\n  stroke: var(--focus-color);\n}\n\n.muigui-vec2-line {\n  stroke-width: 1px;\n  stroke: var(--value-color);\n  fill: var(--value-color);\n}\n\n/* ------ [ direction ] ------ */\n\n.muigui-direction svg {\n  background-color: rgba(0,0,0,0.2);\n}\n\n.muigui-direction:focus-within svg {\n  outline: none;\n}\n.muigui-direction-range {\n  fill: var(--value-bg-color);\n}\n.muigui-direction svg:focus {\n  outline: none;\n}\n.muigui-direction svg:focus .muigui-direction-range {\n  stroke-width: 0.5px;\n  stroke: var(--focus-color);\n}\n\n.muigui-direction-arrow {\n  fill: var(--value-color);\n}\n\n/* ------ [ slider ] ------ */\n\n.muigui-slider>div {\n  display: flex;\n  align-items: stretch;\n  height: var(--line-height);\n}\n.muigui-slider svg {\n  flex: 1 1 auto;\n}\n.muigui-slider .muigui-slider-up #muigui-orientation {\n  transform: scale(1, -1) translateY(-100%);\n}\n\n.muigui-slider .muigui-slider-up #muigui-number-orientation {\n  transform: scale(1,-1);\n}\n\n.muigui-ticks {\n  stroke: var(--range-color);\n}\n.muigui-thicks {\n  stroke: var(--color);\n  stroke-width: 2px;\n}\n.muigui-svg-text {\n  fill: var(--color);\n  font-size: 7px;\n}\n.muigui-mark {\n  fill: var(--value-color);\n}\n\n/* ------ [ range ] ------ */\n\n\n.muigui-range input[type=range] {\n  -webkit-appearance: none;\n  appearance: none;\n  background-color: transparent;\n}\n\n.muigui-range input[type=range]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  border-radius: calc(var(--border-radius) + 2px);\n  border-left: 1px solid rgba(255,255,255,0.3);\n  border-top: 1px solid rgba(255,255,255,0.3);\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  border-right: 1px solid rgba(0,0,0,0.2);\n  background-color: var(--range-color);\n  margin-top: calc((var(--line-height) - 2px) / -2);\n  width: calc(var(--line-height) - 2px);\n  height: calc(var(--line-height) - 2px);\n}\n\n.muigui-range input[type=range]::-webkit-slider-runnable-track {\n  -webkit-appearance: none;\n  appearance: none;\n  border: 1px solid var(--menu-sep-color);\n  height: 2px;\n}\n\n\n/* dat.gui style - doesn\'t work on Safari iOS */\n\n/*\n.muigui-range input[type=range] {\n  cursor: ew-resize;\n  overflow: hidden;\n}\n\n.muigui-range input[type=range] {\n  -webkit-appearance: none;\n  appearance: none;\n  background-color: var(--range-right-color);\n  margin: 0;\n}\n.muigui-range input[type=range]:hover {\n  background-color: var(--range-right-hover-color);\n}\n\n.muigui-range input[type=range]::-webkit-slider-runnable-track {\n  -webkit-appearance: none;\n  appearance: none;\n  height: max-content;\n  color: var(--range-left-color);\n  margin-top: -1px;\n}\n\n.muigui-range input[type=range]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 0px;\n  height: max-content;\n  box-shadow: -1000px 0 0 1000px var(--range-left-color);\n}\n*/\n\n/* FF */\n/*\n.muigui-range input[type=range]::-moz-slider-progress {\n  background-color: var(--range-left-color); \n}\n.muigui-range input[type=range]::-moz-slider-thumb {\n  height: max-content;\n  width: 0;\n  border: none;\n  box-shadow: -1000px 0 0 1000px var(--range-left-color);\n  box-sizing: border-box;\n}\n*/\n\n/* ---------------------------------------------------------- */\n\n/* needs to be at bottom to take precedence */\n.muigui-auto-place {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 100001;\n}\n\n'),e&&(this.domElement.style.width=/^\d+$/.test(e)?`${e}px`:e),void 0===r&&t&&(r=document.body,this.domElement.classList.add("muigui-auto-place")),r&&r.appendChild(this.domElement),i&&this.title(i),this.domElement.classList.add("muigui")}}export{wn as default};
